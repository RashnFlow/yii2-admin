<?php

namespace wm\admin\models\settings\chatbot;

use Yii;
use Bitrix24\Im\Im;
use wm\admin\models\B24ConnectSettings;
use yii\helpers\Url;

/**
 * This is the model class for table "admin_chatbot".
 *
 * @property string $code Код
 * @property string $type_id Тип
 * @property int|null $openline Является открытой линией
 * @property string $p_name Имя
 * @property string $p_last_name Фамилия
 * @property string $p_color_name Цвет
 * @property string $p_email email
 * @property string|null $p_personal_birthday День рождения
 * @property string|null $p_work_position Должность
 * @property string|null $p_personal_www Персональный сайт
 * @property int|null $p_personal_gender Пол
 * @property string|null $p_personal_photo_url Фото
 * @property string|null $event_handler
 * @property string|null $event_massege_add
 * @property string|null $event_massege_update
 * @property string|null $event_massege_delete
 * @property string|null $event_welcome_massege
 * @property string|null $event_bot_delete
 * @property int|null $bot_id 
 *
 * @property AdminChatbotTypeDirectory $type
 * @property AdminChatbotColorDirectory $pColorName
 * @property AdminChatbotCommand[] $adminChatbotCommands
 */
class Chatbot extends \yii\db\ActiveRecord {

    /**
     * {@inheritdoc}
     */
    public static function tableName() {
        return 'admin_chatbot';
    }

    /**
     * {@inheritdoc}
     */
    public function rules() {
        return [
            [['code', 'type_id', 'p_name', 'p_last_name', 'p_color_name', 'p_email'], 'required'],
            [['p_personal_gender', 'bot_id'], 'integer'],
            [['p_personal_birthday'], 'safe'],
            [['p_name', 'p_last_name', 'p_email', 'p_work_position', 'p_personal_www', 'p_personal_photo_url', 'event_handler', 'event_massege_add', 'event_massege_update', 'event_massege_delete', 'event_welcome_massege', 'event_bot_delete'], 'string', 'max' => 255],
            [['openline', 'type_id'], 'string', 'max' => 1],
            [['p_color_name'], 'string', 'max' => 20],
            [['code'], 'string', 'max' => 64],
            [['code'], 'unique'],
            [['type_id'], 'exist', 'skipOnError' => true, 'targetClass' => ChatbotTypeDirectory::className(), 'targetAttribute' => ['type_id' => 'name']],
            [['p_color_name'], 'exist', 'skipOnError' => true, 'targetClass' => ChatbotColorDirectory::className(), 'targetAttribute' => ['p_color_name' => 'name']],
        ];
    }

    /**
     * {@inheritdoc}
     */
    public function attributeLabels() {
        return [
            'code' => 'Код',
            'type_id' => 'Тип',
            'openline' => 'Является открытой линией',
            'p_name' => 'Имя',
            'p_last_name' => 'Фамилия',
            'p_color_name' => 'Цвет',
            'p_email' => 'email',
            'p_personal_birthday' => 'День рождения',
            'p_work_position' => 'Должность',
            'p_personal_www' => 'Персональный сайт',
            'p_personal_gender' => 'Пол',
            'p_personal_photo_url' => 'Фото',
            'event_handler' => 'Event Handler',
            'event_massege_add' => 'Event Massege Add',
            'event_massege_update' => 'Event Massege Update',
            'event_massege_delete' => 'Event Massege Delete',
            'event_welcome_massege' => 'Event Welcome Massege',
            'event_bot_delete' => 'Event Bot Delete',
            'bot_id' => 'Идентификатар установленного бота',
        ];
    }

    /**
     * Gets query for [[Type]].
     *
     * @return \yii\db\ActiveQuery
     */
    public function getType() {
        return $this->hasOne(ChatbotTypeDirectory::className(), ['name' => 'type_id']);
    }

    /**
     * Gets query for [[PColorName]].
     *
     * @return \yii\db\ActiveQuery
     */
    public function getPColorName() {
        return $this->hasOne(ChatbotColorDirectory::className(), ['name' => 'p_color_name']);
    }

    public static function getOpenLineList() {
        return ['Y' => 'Да'];
    }

    public function toBitrix24() {
        $component = new \wm\b24tools\b24Tools();
        $b24App = $component->connect(
                B24ConnectSettings::getParametrByName('applicationId'),
                B24ConnectSettings::getParametrByName('applicationSecret'),
                B24ConnectSettings::getParametrByName('b24PortalTable'),
                B24ConnectSettings::getParametrByName('b24PortalName'));
        $obB24Im = new Im($b24App);
        $botParams = [
            'CODE' => $this->code,
            'TYPE' => $this->type_id,
            'OPENLINE' => 'N',
            'PROPERTIES' => [
                'NAME' => $this->p_name,
                'COLOR' => $this->p_color_name,
            //'WORK_POSITION' => 'Чат-бот для помощи сотрудникам',
            //'PERSONAL_PHOTO' => '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AAAAAAAAAAAAQmwgIGRvdWJAb+AAAAAAAAAAAABCcmRUVW50RiNSbHQAAAAAAAAAAAAAAABCbGQgVW50RiNSbHQAAAAAAAAAAAAAAABSc2x0VW50RiNQeGxAUgAAAAAAAAAAAAp2ZWN0b3JEYXRhYm9vbAEAAAAAUGdQc2VudW0AAAAAUGdQcwAAAABQZ1BDAAAAAExlZnRVbnRGI1JsdAAAAAAAAAAAAAAAAFRvcCBVbnRGI1JsdAAAAAAAAAAAAAAAAFNjbCBVbnRGI1ByY0BZAAAAAAAAAAAAEGNyb3BXaGVuUHJpbnRpbmdib29sAAAAAA5jcm9wUmVjdEJvdHRvbWxvbmcAAAAAAAAADGNyb3BSZWN0TGVmdGxvbmcAAAAAAAAADWNyb3BSZWN0UmlnaHRsb25nAAAAAAAAAAtjcm9wUmVjdFRvcGxvbmcAAAAAADhCSU0D7QAAAAAAEABIAAAAAQACAEgAAAABAAI4QklNBCYAAAAAAA4AAAAAAAAAAAAAP4AAADhCSU0D8gAAAAAACgAA////////AAA4QklNBA0AAAAAAAQAAAAeOEJJTQQZAAAAAAAEAAAAHjhCSU0D8wAAAAAACQAAAAAAAAAAAQA4QklNJxAAAAAAAAoAAQAAAAAAAAABOEJJTQP1AAAAAABIAC9mZgABAGxmZgAGAAAAAAABAC9mZgABAKGZmgAGAAAAAAABADIAAAABAFoAAAAGAAAAAAABADUAAAABAC0AAAAGAAAAAAABOEJJTQP4AAAAAABwAAD/////////////////////////////A+gAAAAA/////////////////////////////wPoAAAAAP////////////////////////////8D6AAAAAD/////////////////////////////A+gAADhCSU0EAAAAAAAAAgAAOEJJTQQCAAAAAAACAAA4QklNBDAAAAAAAAEBADhCSU0ELQAAAAAABgABAAAABjhCSU0ECAAAAAAAEAAAAAEAAAJAAAACQAAAAAA4QklNBB4AAAAAAAQAAAAAOEJJTQQaAAAAAANdAAAABgAAAAAAAAAAAAAAPAAAADwAAAAUAHYAYQBzAGkAbAB5AHIAbwBzAGMAYQAxADkAMAAyADAAMAAwADMANgAAAAEAAAAAAAAAAAAAAAAAAAAA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IAAyADAAMgAxAAAAAQA4QklNBAYAAAAAAAcACAEBAAEBAP/hDhhodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ4OCwgMjAyMC8wNy8xMC0yMjowNjo1MyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9IjU5MEI0MDJGN0VBNkY0Mzk1Mjk3ODBGQUFENzUxQkZBIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmFlZWU5OTU1LTA0NDEtOTk0My05MWQzLTIwMTU0ODNiYzhkZSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSI1OTBCNDAyRjdFQTZGNDM5NTI5NzgwRkFBRDc1MUJGQSIgZGM6Zm9ybWF0PSJpbWFnZS9qcGVnIiBwaG90b3Nob3A6TGVnYWN5SVBUQ0RpZ2VzdD0iRThGMTVDRjMyRkMxMThBMUEyN0I2N0FEQzU2NEQ1QkEiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSIiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTExLTE5VDIyOjEwOjQ0KzAzOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0xMS0yNFQwMDozMToxNiswMzowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0xMS0yNFQwMDozMToxNiswMzowMCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDozNzEzNzJiOS1jZTRiLWU4NGUtYjAzZC02NGFhOTc0NGYwNTUiIHN0RXZ0OndoZW49IjIwMjAtMTEtMTlUMjI6MTQ6MjArMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YWVlZTk5NTUtMDQ0MS05OTQzLTkxZDMtMjAxNTQ4M2JjOGRlIiBzdEV2dDp3aGVuPSIyMDIwLTExLTI0VDAwOjMxOjE2KzAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjIuMCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg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'
            ]
        ];
        
        if($this->event_handler){
            $botParams['EVENT_HANDLER'] = Url::toRoute($this->event_handler, 'https');
        }else{
            $botParams['EVENT_MESSAGE_ADD'] = Url::toRoute($this->event_massege_add, 'https');
            $botParams['EVENT_WELCOME_MESSAGE'] = Url::toRoute($this->event_welcome_massege, 'https');
            $botParams['EVENT_BOT_DELETE'] = Url::toRoute($this->event_bot_delete, 'https');
            $botParams['EVENT_MESSAGE_UPDATE'] = Url::toRoute($this->event_massege_update, 'https');
            $botParams['EVENT_MESSAGE_DELETE'] = Url::toRoute($this->event_massege_delete, 'https');
        }


        $b24 = $obB24Im->client->call('imbot.register', $botParams);
        $this->bot_id = $b24['result'];
        $this->save();
        return $b24;


//        $use_subscription = $this->use_subscription > 0 ? true : false;
//        $handler = Url::toRoute('/admin/handlers/robot/' . $this->handler, 'https');
//        $b24 = $obB24->add(
//                $this->code,
//                $handler,
//                $this->name,
//                $this->auth_user_id,
//                $this->toB24Properties($this->propertiesIn),
//                $this->toB24Properties($this->propertiesNotIn),
//                $this->use_placement,
//                $use_subscription);
//        return $b24;
//        $obB24Im = new Im($b24App);
//        $result = $obB24Im->client->call('imbot.register',[
//            'CODE' => 'Bot-Controller',
//            'TYPE' => 'B',
//            'EVENT_HANDLER' => Settings::getParametrByName('action_path'),
//            'OPENLINE' => 'N',
//            'PROPERTIES' => [
//                'NAME' => 'Бот помощник',
//                'COLOR' => 'PURPLE',
//                'WORK_POSITION' => 'Чат-бот для помощи сотрудникам',
//                'PERSONAL_PHOTO' => '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AAAAAAAAAAAAQmwgIGRvdWJAb+AAAAAAAAAAAABCcmRUVW50RiNSbHQAAAAAAAAAAAAAAABCbGQgVW50RiNSbHQAAAAAAAAAAAAAAABSc2x0VW50RiNQeGxAUgAAAAAAAAAAAAp2ZWN0b3JEYXRhYm9vbAEAAAAAUGdQc2VudW0AAAAAUGdQcwAAAABQZ1BDAAAAAExlZnRVbnRGI1JsdAAAAAAAAAAAAAAAAFRvcCBVbnRGI1JsdAAAAAAAAAAAAAAAAFNjbCBVbnRGI1ByY0BZAAAAAAAAAAAAEGNyb3BXaGVuUHJpbnRpbmdib29sAAAAAA5jcm9wUmVjdEJvdHRvbWxvbmcAAAAAAAAADGNyb3BSZWN0TGVmdGxvbmcAAAAAAAAADWNyb3BSZWN0UmlnaHRsb25nAAAAAAAAAAtjcm9wUmVjdFRvcGxvbmcAAAAAADhCSU0D7QAAAAAAEABIAAAAAQACAEgAAAABAAI4QklNBCYAAAAAAA4AAAAAAAAAAAAAP4AAADhCSU0D8gAAAAAACgAA////////AAA4QklNBA0AAAAAAAQAAAAeOEJJTQQZAAAAAAAEAAAAHjhCSU0D8wAAAAAACQAAAAAAAAAAAQA4QklNJxAAAAAAAAoAAQAAAAAAAAABOEJJTQP1AAAAAABIAC9mZgABAGxmZgAGAAAAAAABAC9mZgABAKGZmgAGAAAAAAABADIAAAABAFoAAAAGAAAAAAABADUAAAABAC0AAAAGAAAAAAABOEJJTQP4AAAAAABwAAD/////////////////////////////A+gAAAAA/////////////////////////////wPoAAAAAP////////////////////////////8D6AAAAAD/////////////////////////////A+gAADhCSU0EAAAAAAAAAgAAOEJJTQQCAAAAAAACAAA4QklNBDAAAAAAAAEBADhCSU0ELQAAAAAABgABAAAABjhCSU0ECAAAAAAAEAAAAAEAAAJAAAACQAAAAAA4QklNBB4AAAAAAAQAAAAAOEJJTQQaAAAAAANdAAAABgAAAAAAAAAAAAAAPAAAADwAAAAUAHYAYQBzAGkAbAB5AHIAbwBzAGMAYQAxADkAMAAyADAAMAAwADMANgAAAAEAAAAAAAAAAAAAAAAAAAAA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IAAyADAAMgAxAAAAAQA4QklNBAYAAAAAAAcACAEBAAEBAP/hDhhodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ4OCwgMjAyMC8wNy8xMC0yMjowNjo1MyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9IjU5MEI0MDJGN0VBNkY0Mzk1Mjk3ODBGQUFENzUxQkZBIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmFlZWU5OTU1LTA0NDEtOTk0My05MWQzLTIwMTU0ODNiYzhkZSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSI1OTBCNDAyRjdFQTZGNDM5NTI5NzgwRkFBRDc1MUJGQSIgZGM6Zm9ybWF0PSJpbWFnZS9qcGVnIiBwaG90b3Nob3A6TGVnYWN5SVBUQ0RpZ2VzdD0iRThGMTVDRjMyRkMxMThBMUEyN0I2N0FEQzU2NEQ1QkEiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSIiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTExLTE5VDIyOjEwOjQ0KzAzOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0xMS0yNFQwMDozMToxNiswMzowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0xMS0yNFQwMDozMToxNiswMzowMCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDozNzEzNzJiOS1jZTRiLWU4NGUtYjAzZC02NGFhOTc0NGYwNTUiIHN0RXZ0OndoZW49IjIwMjAtMTEtMTlUMjI6MTQ6MjArMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YWVlZTk5NTUtMDQ0MS05OTQzLTkxZDMtMjAxNTQ4M2JjOGRlIiBzdEV2dDp3aGVuPSIyMDIwLTExLTI0VDAwOjMxOjE2KzAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjIuMCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg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'
//            ]
//        ]);
//        $object = Settings::find()->where(['name_id' => 'chat_bot_id'])->one();
//        $object->value = $result['result'];
//        $object->validate();
//        $object->save();
    }
    
    public function updateBitrix24() {
        $component = new \wm\b24tools\b24Tools();
        $b24App = $component->connect(
                B24ConnectSettings::getParametrByName('applicationId'),
                B24ConnectSettings::getParametrByName('applicationSecret'),
                B24ConnectSettings::getParametrByName('b24PortalTable'),
                B24ConnectSettings::getParametrByName('b24PortalName'));
        $obB24Im = new Im($b24App);
        $botParams = [
            'CODE' => $this->code,
            'TYPE' => $this->type_id,
            'OPENLINE' => 'N',
            'PROPERTIES' => [
                'NAME' => $this->p_name,
                'COLOR' => $this->p_color_name,
            //'WORK_POSITION' => 'Чат-бот для помощи сотрудникам',
            //'PERSONAL_PHOTO' => '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AAAAAAAAAAAAQmwgIGRvdWJAb+AAAAAAAAAAAABCcmRUVW50RiNSbHQAAAAAAAAAAAAAAABCbGQgVW50RiNSbHQAAAAAAAAAAAAAAABSc2x0VW50RiNQeGxAUgAAAAAAAAAAAAp2ZWN0b3JEYXRhYm9vbAEAAAAAUGdQc2VudW0AAAAAUGdQcwAAAABQZ1BDAAAAAExlZnRVbnRGI1JsdAAAAAAAAAAAAAAAAFRvcCBVbnRGI1JsdAAAAAAAAAAAAAAAAFNjbCBVbnRGI1ByY0BZAAAAAAAAAAAAEGNyb3BXaGVuUHJpbnRpbmdib29sAAAAAA5jcm9wUmVjdEJvdHRvbWxvbmcAAAAAAAAADGNyb3BSZWN0TGVmdGxvbmcAAAAAAAAADWNyb3BSZWN0UmlnaHRsb25nAAAAAAAAAAtjcm9wUmVjdFRvcGxvbmcAAAAAADhCSU0D7QAAAAAAEABIAAAAAQACAEgAAAABAAI4QklNBCYAAAAAAA4AAAAAAAAAAAAAP4AAADhCSU0D8gAAAAAACgAA////////AAA4QklNBA0AAAAAAAQAAAAeOEJJTQQZAAAAAAAEAAAAHjhCSU0D8wAAAAAACQAAAAAAAAAAAQA4QklNJxAAAAAAAAoAAQAAAAAAAAABOEJJTQP1AAAAAABIAC9mZgABAGxmZgAGAAAAAAABAC9mZgABAKGZmgAGAAAAAAABADIAAAABAFoAAAAGAAAAAAABADUAAAABAC0AAAAGAAAAAAABOEJJTQP4AAAAAABwAAD/////////////////////////////A+gAAAAA/////////////////////////////wPoAAAAAP////////////////////////////8D6AAAAAD/////////////////////////////A+gAADhCSU0EAAAAAAAAAgAAOEJJTQQCAAAAAAACAAA4QklNBDAAAAAAAAEBADhCSU0ELQAAAAAABgABAAAABjhCSU0ECAAAAAAAEAAAAAEAAAJAAAACQAAAAAA4QklNBB4AAAAAAAQAAAAAOEJJTQQaAAAAAANdAAAABgAAAAAAAAAAAAAAPAAAADwAAAAUAHYAYQBzAGkAbAB5AHIAbwBzAGMAYQAxADkAMAAyADAAMAAwADMANgAAAAEAAAAAAAAAAAAAAAAAAAAA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IAAyADAAMgAxAAAAAQA4QklNBAYAAAAAAAcACAEBAAEBAP/hDhhodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ4OCwgMjAyMC8wNy8xMC0yMjowNjo1MyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9IjU5MEI0MDJGN0VBNkY0Mzk1Mjk3ODBGQUFENzUxQkZBIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmFlZWU5OTU1LTA0NDEtOTk0My05MWQzLTIwMTU0ODNiYzhkZSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSI1OTBCNDAyRjdFQTZGNDM5NTI5NzgwRkFBRDc1MUJGQSIgZGM6Zm9ybWF0PSJpbWFnZS9qcGVnIiBwaG90b3Nob3A6TGVnYWN5SVBUQ0RpZ2VzdD0iRThGMTVDRjMyRkMxMThBMUEyN0I2N0FEQzU2NEQ1QkEiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSIiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTExLTE5VDIyOjEwOjQ0KzAzOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0xMS0yNFQwMDozMToxNiswMzowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0xMS0yNFQwMDozMToxNiswMzowMCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDozNzEzNzJiOS1jZTRiLWU4NGUtYjAzZC02NGFhOTc0NGYwNTUiIHN0RXZ0OndoZW49IjIwMjAtMTEtMTlUMjI6MTQ6MjArMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YWVlZTk5NTUtMDQ0MS05OTQzLTkxZDMtMjAxNTQ4M2JjOGRlIiBzdEV2dDp3aGVuPSIyMDIwLTExLTI0VDAwOjMxOjE2KzAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjIuMCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg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'
            ]
        ];
        
        if($this->event_handler){
            $botParams['EVENT_HANDLER'] = Url::toRoute($this->event_handler, 'https');
        }else{
            $botParams['EVENT_MESSAGE_ADD'] = Url::toRoute($this->event_massege_add, 'https');
            $botParams['EVENT_WELCOME_MESSAGE'] = Url::toRoute($this->event_welcome_massege, 'https');
            $botParams['EVENT_BOT_DELETE'] = Url::toRoute($this->event_bot_delete, 'https');
            $botParams['EVENT_MESSAGE_UPDATE'] = Url::toRoute($this->event_massege_update, 'https');
            $botParams['EVENT_MESSAGE_DELETE'] = Url::toRoute($this->event_massege_delete, 'https');
        }


        $b24 = $obB24Im->client->call('imbot.update', $botParams);        
        return $b24;
    }

    public static function getB24List() {
        $component = new \wm\b24tools\b24Tools();
        $b24App = $component->connect(
                B24ConnectSettings::getParametrByName('applicationId'),
                B24ConnectSettings::getParametrByName('applicationSecret'),
                B24ConnectSettings::getParametrByName('b24PortalTable'),
                B24ConnectSettings::getParametrByName('b24PortalName'));
        $obB24Im = new Im($b24App);
        $b24 = $obB24Im->client->call('imbot.bot.list', []);
        return $b24;
    }

    public function removeBitrix24() {
        $component = new \wm\b24tools\b24Tools();
        $b24App = $component->connect(
                B24ConnectSettings::getParametrByName('applicationId'),
                B24ConnectSettings::getParametrByName('applicationSecret'),
                B24ConnectSettings::getParametrByName('b24PortalTable'),
                B24ConnectSettings::getParametrByName('b24PortalName'));
//        $obB24 = new \Bitrix24\Bizproc\Robot($b24App);
//        $b24 = $obB24->delete($this->code);

        $obB24Im = new Im($b24App);
        $b24 = $obB24Im->client->call('imbot.unregister', ['BOT_ID' => $this->bot_id]);
        $this->bot_id = null;
        $this->save();
    }

    /**
     * Gets query for [[AdminChatbotCommands]].
     *
     * @return \yii\db\ActiveQuery
     */
    public function getChatbotCommands() {
        return $this->hasMany(ChatbotCommand::className(), ['bot_code' => 'code']);
    }
    
    /**
    * Gets query for [[AdminChatbotApps]].
    *
    * @return \yii\db\ActiveQuery
    */
    public function getApps() {
        return $this->hasMany(App::className(), ['bot_code' => 'code']);
    }

}
